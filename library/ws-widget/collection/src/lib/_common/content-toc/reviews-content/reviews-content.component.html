<div class="rating-modal-container">
    <div class="flex flex-row ratings-container">
        <div class="flex-1">
            <ws-widget-rating-summary [ratingSummary]="data?.ratings"></ws-widget-rating-summary>
        </div>
        <div class="flex">
            <mat-icon class="cursor-pointer" (click)="handleCloseModal()" >close</mat-icon>
        </div>
    </div>
    <div class="flex flex-col p-6">
        <div class="flex flex-col gap-4">
            <div class="font-base font-bold">Reviews</div>
            <div class="flex flex-row gap-3">
                <div class="flex-1">
                    <div class="flex flex-row search-div">
                        <mat-icon (click)="handleFocus()" class="cursor-pointer">search</mat-icon>
                        <input #searchInput type="text" class="search-input flex" placeholder="Search" />
                        <ng-container *ngIf="clearIcon">
                            <mat-icon (click)="handleClear()" class="cursor-pointer">close</mat-icon>
                        </ng-container>
                    </div>
                </div>
                <div class="flex items-center justify-center">
                    <mat-icon class="cursor-pointer">filter_list</mat-icon>
                </div>
            </div>
        </div>
        <div class="flex flex-col reviews">
            <ng-container *ngFor="let eachReview of reviews; let i = index">
                <div class="flex flex-row gap-3 p-4">
                    <div class="flex-1">
                        <div class="flex flex-col gap-6">
                            <div class="flex">{{ handleCapitalize(eachReview?.review) }}</div>
                            <div class="flex flex-row gap-2 items-center">
                                <ws-widget-avatar-photo [randomColor]="true" [datalen]="1" [size]="'round-m'" [photoUrl]="eachReview?.photo || ''" [name]="eachReview?.firstName"></ws-widget-avatar-photo>
                                <div>{{ handleCapitalize(eachReview?.firstName) }}</div>
                                <div class="flex items-center">
                                    <span class="period"></span>
                                </div>
                                <div>{{ eachReview?.updatedon | pipeRelativeTime }}</div>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-row gap-1 rating-start-value">
                        <mat-icon>star</mat-icon>
                        <div>{{ eachReview?.rating }}</div>
                    </div>
                </div>
                <div class="separator" *ngIf="reviews.length > (i + 1)" ></div>
            </ng-container>
        </div>
    </div>
    
</div>

