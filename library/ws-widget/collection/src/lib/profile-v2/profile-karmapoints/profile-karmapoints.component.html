<div class="flex flex-1 flex-column margin-top-xs margin-left-xs margin-right-xs marg margin-bottom-xs">
  <mat-card class="flex-custom" [attr.id]="widgetData?.key">
    <mat-card-content>
      <span class="mat-subheading-1 flex-4 mobile-margin" role="link" tabindex="0">
        {{widgetData.name}}
      </span>
      <a class="flex-4 mobile-margin show-all" (click)="navigateTo()" *ngIf="widgetData?.data?.length">
        Show all &nbsp;&nbsp; >
      </a>
    </mat-card-content>
    <ng-container *ngIf="widgetData?.data?.length">
      <ng-container *ngFor="let karmapoints of widgetData.data | keyvalue | orderBy:'date':'desc'">
        <mat-card class="no-shadow mt-2 mat-list-item" role="link" tabindex="0">
          <div class="flex flex-1 mobile-margin">
            <div class="flex-1 mat-subheading-1">
              <div class="margin-bottom-xs">{{karmapoints.value.context_type}} {{karmapoints.value.operation_type | lowercase}}</div>
              <div class="courseName margin-bottom-xs">{{getName(karmapoints.value)}}</div>
              <div class="date-of-completed margin-bottom-xs">{{karmapoints.value.credit_date | date: 'd MMM yyyy'}}</div>
            </div>
            <div class="mat-subheading-2">
              <img class="karmapoints-icon" alt="karma points" src="/assets/icons/home/karma-badge.svg">
              <span class="bonus-points">+ {{karmapoints.value.points}}</span>
              <div *ngIf="getAdditonInfo(karmapoints.value)"><span class="bonus-badge">BONUS</span></div>
            </div>
          </div>
        </mat-card>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="!widgetData?.data?.length">
      <mat-card role="link" tabindex="0" class="no-shadow mt-2 mat-list-item dark-card">
        <div class="flex flex-1 mobile-margin margin-f">
          <span class="mat-subtitle flex-1 mobile-margin"> No karma points information available </span>
        </div>
      </mat-card>
    </ng-container>
  </mat-card>

</div>


