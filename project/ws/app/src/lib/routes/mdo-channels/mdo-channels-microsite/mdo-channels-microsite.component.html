<ws-widget-btn-page-back [widgetData]="{ url: 'home', titles: titles, textClass:'ws-mat-black60-text' }">
</ws-widget-btn-page-back>

<div class="container-fluid" id="section-micro-sites">
    <div class="flex flex-col flex-1">
        <ng-container *ngIf="sectionList?.length">
            <ng-container *ngFor="let section of sectionList">
                <ng-container *ngIf="section?.enabled">
                    <section id="{{section?.key}}" class="w-full grid grid-cols-12 gap-4" [ngClass]="{'container': section.wrapperClass}">
                        <ng-container *ngFor="let column of section.column">
                            <div id="{{column?.key}}" class="col-span-{{column.colspan || 12}} ">
                                <ng-container *ngIf="column?.enabled" [ngSwitch]="column?.key">
                                    <ng-container *ngSwitchCase="'topSection'" [ngTemplateOutlet]="topSection"
                                        [ngTemplateOutletContext]="{data: column?.data}"></ng-container>
                                    <ng-container *ngSwitchCase="'metrics'" [ngTemplateOutlet]="metrics"
                                        [ngTemplateOutletContext]="{data: column?.data}"></ng-container>
                                    <ng-container *ngSwitchCase="'mainContent'" [ngTemplateOutlet]="mainContent"
                                        [ngTemplateOutletContext]="{data: column?.data}"></ng-container>
                                </ng-container>
                            </div>
                        </ng-container>
                    </section>
                </ng-container>
            </ng-container>
        </ng-container>
    </div>
</div>


<ng-template #topSection let-data="data">
    <div class="flex  items-center justify-center" [ngStyle]="{'background': data.background}">
        <div class="container">
            <div class="grid grid-cols-12 gap-4 padding-top-l mb-6">
                <div class="col-span-12 md:col-span-6">
                    <div class="flex-1 flex flex-col mr-4 ws-mat-black-text">
                        <div class="flex items-center logo-square ">
                            <img alt="Application Logo" class="logo-img" [src]="data?.logo">
                        </div>
                        <div class="mt-6 pt-6">
                            <h1 >{{data.title}}</h1>
                            <p>{{data.description}}</p>
                        </div>
                    </div>
                </div>
                <div class="col-span-12 md:col-span-6">
                    <div class="slider slider-box" *ngIf="data.sliderData && data.sliderData.sliders">
                        <sb-uic-sliders [widgetData]="data.sliderData.sliders" [styleData]="data.sliderData.styleData" ></sb-uic-sliders>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #metrics let-data="data">
    <div class="flex  items-center justify-center" [ngStyle]="{'background': data.background}">
        <div class="container">
            <h1>metrics</h1>
        </div>
    </div>
</ng-template>

<ng-template #mainContent let-data="data">
    <div class="flex  items-center justify-center" [ngStyle]="{'background': data.background}">
        <div class="container">
            <div class="grid grid-cols-12 gap-4 padding-top-l mb-6">
                <div class="col-span-12 md:col-span-{{data.tabSection.colspan}}">
                    <!-- Tabs Section -->
                    <mat-tab-group animationDuration="0ms" class="mat-tab-labels w-full"
                        [selectedIndex]="selectedIndex" (selectedTabChange)="selectedIndex = $event.index; tabClicked($event)">
                        <mat-tab label="Content" >
                            <ng-template mat-tab-label i18n>
                                Content
                            </ng-template>
                            <div>
                                <h1>Content strips goes here</h1> 
                            </div>
                        </mat-tab>
                        <mat-tab label="Core Areas">
                            <ng-template mat-tab-label i18n>
                                Core Areas
                            </ng-template>
                            <div>
                                <h1>Competency strips goes here</h1> 
                            </div>
                        </mat-tab>
                    </mat-tab-group>
                </div>
                <div class="col-span-12 md:col-span-{{data.announcementSection.colspan}}" *ngIf="data?.announcementSection?.data">
                    <div class="pt-4">
                        <sb-uic-announcements
                            [objectData]="data?.announcementSection?.data">
                        </sb-uic-announcements>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</ng-template>
<!-- 
<ng-template #announcement let-data="data">
    <div class="flex  items-center justify-center" [ngStyle]="{'background': data.background}">
        <div class="w-full">
            Announcement Section -->
            <!-- <h1>Announcement</h1>
        </div>
    </div>
</ng-template> -->