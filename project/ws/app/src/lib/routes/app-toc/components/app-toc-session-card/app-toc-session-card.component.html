<div class="flex flex-col sm:flex-row flex-between width-expand pr-0 w-100 sm:pr-4 sm:w-auto mb-4">
    <a [class.disabled]="(forPreview || !isEnabled) ? true : null"
        [routerLink]="(isAllowed && !forPreview && !isEnabled) ? resourceLink.url : null"
        [queryParams]="(isAllowed && !forPreview && !isEnabled)  ? resourceLink.queryParams : null">
        <div class="text-truncate " [ngClass]="{'cursor-pointer': !isEnabled}"
            (click)="viewChildren = !viewChildren; raiseTelemetry()">
            <div class="flex flex-col sm:flex-row flex-wrap">
                <p class="margin-remove text-truncate mat-subheading-1 flex-auto">
                    <!-- <mat-icon class="margin-right-xs radiobtn time-icon">radio_button_unchecked </mat-icon> -->
                    {{ content?.name }}
                </p>

                <span class="content-type optional-span" *ngIf="content?.optionalReading">optional </span>
                <!-- <span class="mat-body-strong content-type">{{ content?.identifier }}</span> -->


            </div>
            <div class="resicons ws-mat-black60-text">
                <!-- <span class="mat-body-strong content-type ws-mat-default-text">{{ content?.contentType }}</span> -->
                <!-- <span class="ml-5"> -->
                <!-- <ng-container *ngIf="content?.displayContentType">&nbsp;&nbsp;|&nbsp;&nbsp;</ng-container> -->
                <!-- <mat-icon class="time-icon">schedule</mat-icon> -->
                <img src="/assets/icons/content/grey/video.svg" alt="Video" class="float-left margin-right-xs" *ngIf="content?.mimeType === 'video/mp4' || content?.mimeType === 'video/x-youtube' ||
                content?.mimeType ==='application/x-mpegURL'">
                <img src="/assets/icons/content/grey/audio.svg" alt="Audio" class="float-left margin-right-xs"
                    *ngIf="content?.mimeType === 'audio/mpeg'">
                <img src="/assets/icons/content/grey/pdf.svg" alt="PDF" class="float-left margin-right-xs"
                    *ngIf="content?.mimeType === 'application/pdf'">
                <!-- <img src="/assets/icons/content/grey/resource.svg" alt="Survey" class="float-left margin-right-xs"
              *ngIf="content?.mimeType === 'application/survey'"> -->
                <img src="/assets/icons/content/grey/link.svg" alt="InteractiveContent"
                    class="float-left margin-right-xs"
                    *ngIf="content?.mimeType === 'application/vnd.ekstep.html-archive' || content?.mimeType === 'text/x-url'">
                <img src="/assets/icons/content/grey/assessment.svg" alt="Assessment" class="float-left margin-right-xs"
                    *ngIf="content?.mimeType === 'application/json' || content?.mimeType === 'application/quiz' || content?.mimeType === 'application/vnd.sunbird.questionset'">
                <img src="/assets/icons/content/grey/image.svg" alt="Image" class="float-left margin-right-xs"
                    *ngIf="content?.mimeType === 'image/png' || content?.mimeType === 'image/jpeg'">
                <img src="/assets/icons/content/grey/content_copy.svg" class="contenticon" alt="Course"
                    *ngIf="content?.mimeType === 'application/vnd.ekstep.content-collection' || content?.mimeType === 'application/survey'">
                <img src="/assets/icons/content/grey/module.svg" class="float-left margin-right-xs"
                    alt="offline sessions"
                    *ngIf="content?.mimeType === 'application/offline' || content?.mimeType === 'application/survey'">
                <span class="ws-mat-black60-text">{{ (content?.duration || 120)| pipeDurationTransform: 'hms' }}</span>
                <!-- </span> -->
            </div>
        </div>
    </a>
    <div class="flex flex-wrap items-center justify-start sm:justify-end">
        <ng-container *ngIf="!forPreview && content?.identifier && content?.completionPercentage ; else elseBlock">

            <ng-container *ngIf="content?.completionStatus == 2">
                <circle-progress class="flex items-center progress" [percent]="100" [radius]="12" [outerStrokeWidth]="3"
                    [innerStrokeWidth]="3" [space]="-3" [outerStrokeColor]="progressColor()"
                    [innerStrokeColor]="'rgba(0, 0, 0, 0.16)'" [animation]="true" [animationDuration]="300"
                    [showTitle]="false" [showUnits]="false" [showSubtitle]="false" [showInnerStroke]="true"
                    [clockwise]="true" [backgroundOpacity]="0" [backgroundGradient]="false" [backgroundStrokeWidth]="3"
                    matTooltip="Completed" [showZeroOuterStroke]=false [backgroundPadding]="-9" [startFromZero]="false"
                    [backgroundPadding]="0" [imageHeight]="24" [imageWidth]="24" [showBackground]="false"
                    [outerStrokeLinecap]="'butt'">
                </circle-progress>
            </ng-container>
            <ng-container *ngIf="content?.completionStatus < 2">
                <circle-progress class="flex items-center progress" [percent]="content?.completionPercentage"
                    [radius]="12" [outerStrokeWidth]="3" [innerStrokeWidth]="3" [space]="-3"
                    [outerStrokeColor]="progressColor2()" [innerStrokeColor]="'rgba(0, 0, 0, 0.16)'" [animation]="true"
                    [animationDuration]="300" [showTitle]="false" [showUnits]="false" [showSubtitle]="false"
                    [showInnerStroke]="true" [clockwise]="true" [backgroundOpacity]="0" [backgroundGradient]="false"
                    [backgroundStrokeWidth]="3" matTooltip="In progress" [showZeroOuterStroke]=false
                    [backgroundPadding]="-9" [startFromZero]="false" [backgroundPadding]="0" [imageHeight]="24"
                    [imageWidth]="24" [showBackground]="false" [outerStrokeLinecap]="'butt'">
                </circle-progress>
            </ng-container>

        </ng-container>
        <ng-template #elseBlock>
            <circle-progress class="flex items-center progress" [percent]="0" [radius]="12" [outerStrokeWidth]="3"
                [innerStrokeWidth]="3" [outerStrokeColor]="'#808080'" [innerStrokeColor]="'#808080'" [animation]="true"
                [space]="-3" [showUnits]="false" [animationDuration]="300" [showTitle]="false" [backgroundPadding]="0"
                [backgroundPadding]="-9" [outerStrokeLinecap]="'butt'" matTooltip="Not started" [showSubtitle]="false"
                [showInnerStroke]="true" [clockwise]="true" [imageHeight]="24" [imageWidth]="24"
                [showBackground]="false"></circle-progress>
            <!-- <p>no data</p> -->
        </ng-template>
    </div>
</div>
<ng-container>
    <ws-app-app-toc-attendance-card [session]=""  [status]=""></ws-app-app-toc-attendance-card>
</ng-container>