<div #fullScreenContainer>
    <div class="dialog-header text-right mb-2">
        <!-- <h1 class="mr-2" mat-dialog-title>{{data.title}}</h1> -->
        <mat-icon class="mat-icon notranslate material-icons close-icon cursor-pointer" matprefix="" role="img" aria-hidden="true" [mat-dialog-close]="false">close</mat-icon>
    </div>
    <div *ngIf="eligible">
        <div *ngIf="customForm">
           <h1> {{data?.courseName}} </h1>
           <div class="w-full">
            <form [formGroup]="userDetailsForm">
                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Group
                    </div>
                    <mat-form-field appearance="outline" class="w-full">
                        <mat-select formControlName="group">
                            <mat-option *ngFor="let group of groupData" value="{{group}}">{{ group }}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Designation
                    </div>
                    <mat-form-field appearance="outline" class="w-full">
                        <mat-select formControlName="designation">
                            <mat-option *ngFor="let designation of designationsMeta"
                              value="{{ designation?.name }}">{{ designation?.name }}</mat-option>
                          </mat-select>
                    </mat-form-field>
                </div>
                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                        i18n="Title label|Label which explains the user to enter title">
                        Employee ID
                    </div>
                    <mat-form-field appearance="outline" class="w-full">
                        <input type="text" class="input-text" matInput formControlName="employeeCode" />
                        <mat-error class="text-xs" *ngIf="userDetailsForm.get('employeeCode').hasError('pattern')">
                            Please enter an Alpha-numeric value only
                            </mat-error>
                    </mat-form-field>                    
                </div>
                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Gender
                    </div>
                    <mat-form-field appearance="outline" class="w-full">
                        <mat-select formControlName="gender">
                            <mat-option *ngFor="let gender of eUserGender" value="{{ gender }}">{{
                              handleTranslateTo(gender.toLowerCase()) }}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Date of Birth
                    </div>
                    <mat-form-field appearance="outline" class="w-full">
                        <input matInput class="input-text icon-include-input" [max]="currentDate" [matDatepicker]="picker" readonly
                      formControlName="dob" />
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </div>
                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Mother Tongue
                    </div>
                    <mat-form-field appearance="outline" class="w-full">
                        <div class="flex flex-row auto-complete-row">
                          <input type="text" class="input-text" aria-label="Domicile Medium (Mother Tongue)" matInput 
                            formControlName="domicileMedium" [matAutocomplete]="languageAuto" />
                          <mat-icon>arrow_drop_down</mat-icon>
                        </div>
                        <mat-autocomplete #languageAuto="matAutocomplete">
                          <mat-option *ngFor="let language of masterLanguages" [value]="language.name">
                            {{ language.name }}
                          </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>
                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      category
                    </div>
                    <mat-form-field appearance="outline" class="w-full">
                        <mat-select formControlName="category">
                          <mat-option *ngFor="let category of eCategory" value="{{ category }}">{{
                            handleTranslateTo(category?.toLowerCase()) }}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                        i18n="Title label|Label which explains the user to enter title">
                        Office Pin Code
                    </div>
                    <mat-form-field appearance="outline" class="w-full">
                        <input type="email" class="input-text" matInput maxlength="6" formControlName="pincode" />
                        <mat-error class="text-xs" *ngIf="userDetailsForm.get('pincode').hasError('pattern')">
                            {{ 'profileInfo.invalidPinCode' | translate }}
                            </mat-error>
                    </mat-form-field>                    
                </div>
                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Are you a Cadre Employee?
                    </div>
                    <mat-form-field appearance="outline" class="profile-form-field">
                        <mat-select formControlName="isCadre" (selectionChange)="getIsCadreStatus($event.value)">
                          <mat-option [value]="true">Yes</mat-option>
                          <mat-option [value]="false">No</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Are you a Cadre Employee?
                    </div>
                    <mat-form-field appearance="outline" class="profile-form-field">
                        <mat-select formControlName="isCadre" (selectionChange)="getIsCadreStatus($event.value)">
                          <mat-option [value]="true">Yes</mat-option>
                          <mat-option [value]="false">No</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Type of Civil Service
                    </div>
                    <mat-form-field appearance="outline" class="profile-form-field">
                        <mat-select formControlName="typeOfCivilService" (selectionChange)="getService($event.value)">
                          <mat-option *ngFor="let service of civilServiceTypes" [value]="service">{{ service }}</mat-option>
                        </mat-select>
                      </mat-form-field>
                </div>

                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Service
                    </div>
                    <mat-form-field appearance="outline" class="profile-form-field">
                        <mat-select formControlName="serviceType" (selectionChange)="onServiceSelect($event)">
                            <mat-option *ngFor="let service of serviceName" [value]="service">{{ service }}</mat-option>
                          </mat-select>
                      </mat-form-field>
                </div>

                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Cadre
                    </div>
                    <mat-form-field appearance="outline" class="profile-form-field">
                        <mat-select formControlName="cadre" (selectionChange)="onCadreSelect($event.value)">
                            <mat-option *ngFor="let state of cadre" [value]="state">{{ state }}</mat-option>
                          </mat-select>
                      </mat-form-field>
                </div>

                <div class="w-full">
                    <div class="mat-subheading-2 margin-0 required"
                      i18n="Title label|Label which explains the user to enter title">
                      Batch
                    </div>
                    <mat-form-field appearance="outline" class="profile-form-field">
                        <mat-select formControlName="batch">
                            <mat-option *ngFor="let year of yearArray" [value]="year">{{ year }}</mat-option>
                        </mat-select>
                      </mat-form-field>
                </div>
                <div class="w-full">
                    <div class="info-value-c" >{{ cadreControllingAuthority }}</div>
                </div>
            </form>
           </div>
        </div>
        <div *ngIf ="!customForm">
            <lib-micro-survey class="course-survey"
                [apiData]="data?.apiData"
                [afterSubmitAction]="afterSubmitAction"
                [isReadOnly]="isReadOnly"
                [surveyId]="data?.surveyId"
                [courseId]="data?.courseId"
                [courseName]="data?.courseName"
                [isblendedprogram]="true"
                [customTextAreaRows]="1"
                >
            </lib-micro-survey>
        </div>        
    </div>
    <div *ngIf="!eligible" class="flex items-center justify-center">
        Your Group and Designation is not approved. Please connect with admin for the approval.
    </div>
</div>
